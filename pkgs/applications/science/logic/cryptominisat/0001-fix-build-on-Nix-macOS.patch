From b1bfa51c4032b4eedc61b536c852b6ff2a295f07 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rg=20Thalheim?= <joerg@thalheim.io>
Date: Thu, 9 Jul 2020 08:08:25 +0100
Subject: [PATCH] fix build on Nix/macOS
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: JÃ¶rg Thalheim <joerg@thalheim.io>
---
 python/CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/python/CMakeLists.txt b/python/CMakeLists.txt
index f549ca7..5a23f25 100644
--- a/python/CMakeLists.txt
+++ b/python/CMakeLists.txt
@@ -77,7 +77,7 @@ if (${CMAKE_SYSTEM_NAME} MATCHES "Windows")
        ARGS setup.py build_ext --inplace
        DEPENDS cryptominisat5
    )
-elseif (${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
+elseif (${CMAKE_SYSTEM_NAME} MATCHES "Darwin" AND NOT DEFINED ENV{NIX_CC})
     execute_process(COMMAND xcrun --show-sdk-path
         OUTPUT_VARIABLE PY_OSX_SDK_PATH
         OUTPUT_STRIP_TRAILING_WHITESPACE)
-- 
2.24.3 (Apple Git-128)

